{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://test/./\u0000#src/js/modules/modal.js","webpack://test/./\u0000#src/js/index.js","webpack://test/./\u0000#src/js/modules/form.js","webpack://test/./\u0000#src/js/services/services.js"],"sourcesContent":["function closeModal(modalSelector) {\r\n    const modal = document.querySelector(modalSelector);\r\n\r\n    modal.classList.add('hide');\r\n    modal.classList.remove('show');\r\n\r\n    document.body.style.overflow = '';\r\n}\r\n\r\nfunction openModal(modalSelector) {\r\n    const modal = document.querySelector(modalSelector);\r\n\r\n    modal.classList.remove('hide');\r\n    modal.classList.add('show');\r\n\r\n    document.body.style.overflow = 'hidden';\r\n}\r\n\r\nfunction modal(triggerSelector, modalSelector) {\r\n    const modalTrigger = document.querySelectorAll(triggerSelector);\r\n    const modal = document.querySelector(modalSelector);\r\n\r\n\r\n    modalTrigger.forEach((btn) => { \r\n        btn.addEventListener('click', () => openModal(modalSelector));\r\n    });  \r\n\r\n    modal.addEventListener('click', (e) => {\r\n        if (e.target == modal || e.target.getAttribute('data-close') == '') {\r\n            closeModal(modalSelector);\r\n        }\r\n    });\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.code === 'Escape' && modal.classList.contains('show')) {\r\n            closeModal(modalSelector);\r\n        }\r\n    })\r\n}\r\n\r\nexport default modal;\r\nexport {closeModal};\r\nexport {openModal};","import modal from './modules/modal';\r\nimport form from './modules/form';\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    modal('.offer__btn-form', '.modal');\r\n    form('.modal__form', '.modal__input', '.modal__status-message');\r\n    \r\n    document.querySelector('.header__btn-project').addEventListener('click', () => {\r\n        \r\n    });\r\n\r\n    document.querySelector('.nav__navicon').addEventListener('click', () => {\r\n        \r\n    });\r\n\r\n    document.querySelector('.clients__more-client').addEventListener('click', () => {\r\n        \r\n    });\r\n})\r\n","import { postData } from '../services/services';\r\nimport {closeModal, openModal} from './modal'; \r\n\r\nfunction form(formSelector, inputsSelector, statusMessageSelector) {\r\n    const form = document.querySelector(formSelector);\r\n    const username = document.querySelector(inputsSelector+'[name=\"name\"]');\r\n    const email = document.querySelector(inputsSelector+'[name=\"email\"]');\r\n    const status = document.querySelector(statusMessageSelector);\r\n    const message = {\r\n        loading: 'img/spinner.svg', \r\n        success: 'Your message successfully sent',\r\n        failure: 'Error...'\r\n    }\r\n\r\n    form.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n\r\n        if (validation()) {\r\n            const statusMessage = document.createElement('img');\r\n            statusMessage.src = message.loading; \r\n            statusMessage.style.cssText = `\r\n                display: block; \r\n                width: 40px;\r\n                margin: 0 auto;\r\n            `;   \r\n            status.appendChild(statusMessage);\r\n\r\n            const formData = new FormData(form); \r\n            const json = JSON.stringify(Object.fromEntries(formData.entries()));  \r\n            \r\n            postData('https://jsonplaceholder.typicode.com/posts', json)\r\n                .then(data => {\r\n                    showFeedbackModal(message.success);\r\n                })\r\n                .catch(err => {\r\n                    showFeedbackModal(message.failure);\r\n                })\r\n                .finally(() => {\r\n                    form.reset();\r\n                    statusMessage.remove();\r\n                })\r\n        }\r\n    });\r\n\r\n\r\n\r\n    function validation() {\r\n        let isValid = true;\r\n        const regEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if (username.value.trim() === '') {\r\n            onError(username, 'Name cannot be empty'); \r\n            isValid = false;\r\n        } else {\r\n            onSuccess(username);\r\n        }\r\n        if (email.value.trim() === '') {\r\n            onError(email, 'Email cannot be empty'); \r\n            isValid = false;\r\n        } else {\r\n            if (!regEmail.test(email.value)) {\r\n                onError(email, 'Incorrect Email')\r\n                isValid = false;\r\n            } else {\r\n                onSuccess(email);\r\n            }\r\n        }\r\n        return isValid;\r\n    }\r\n\r\n    function onError(input, message) {\r\n        const parent = input.parentElement;\r\n        const messageError = parent.querySelector('small');\r\n        messageError.classList.add('show');\r\n        messageError.classList.remove('hide');\r\n        messageError.innerText = message;\r\n    }\r\n    function onSuccess(input) {\r\n        const parent = input.parentElement;\r\n        const messageError = parent.querySelector('small');\r\n        messageError.classList.add('hide');\r\n        messageError.classList.remove('show');\r\n        messageError.innerText = '';\r\n    }\r\n    \r\n    function showFeedbackModal(message) {\r\n        const prevModalDialog = document.querySelector('.modal__dialog');\r\n        prevModalDialog.classList.remove('show');\r\n        prevModalDialog.classList.add('hide');\r\n\r\n        openModal('.modal');\r\n\r\n        const feedbackModal = document.createElement('div');\r\n        feedbackModal.classList.add('modal__dialog');\r\n        feedbackModal.innerHTML = `\r\n            <div class=\"modal__feedback-title\">${message}</div>\r\n        `;\r\n\r\n        document.querySelector('.modal').append(feedbackModal);\r\n        \r\n        setTimeout(() => {\r\n            feedbackModal.remove();\r\n            prevModalDialog.classList.add('show');\r\n            prevModalDialog.classList.remove('hide');\r\n            closeModal('.modal');\r\n        }, 4000);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default form;","async function postData(url, data) {\r\n    const res = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: data\r\n    });\r\n\r\n    return await res.json();\r\n}\r\n\r\nexport { postData };"],"names":["closeModal","modalSelector","modal","document","querySelector","classList","add","remove","body","style","overflow","openModal","addEventListener","triggerSelector","modalTrigger","querySelectorAll","forEach","btn","e","target","getAttribute","code","contains","formSelector","inputsSelector","statusMessageSelector","form","username","email","status","onError","input","message","messageError","parentElement","innerText","onSuccess","showFeedbackModal","prevModalDialog","feedbackModal","createElement","innerHTML","append","setTimeout","preventDefault","isValid","value","trim","test","validation","statusMessage","src","cssText","appendChild","formData","FormData","async","url","data","res","fetch","method","headers","json","postData","JSON","stringify","Object","fromEntries","entries","then","catch","err","finally","reset"],"sourceRoot":""}